<div class="container mt-4">
    <h2>Vender
      <button class="btn ms-2" type="button"(click)="resetSale()">
        Reiniciar <i class="bi bi-repeat"></i>
      </button>
    </h2>
  
    <!-- Barcode Input -->
    <input
      class="form-control mb-3"
      [(ngModel)]="barcodeInput"
      (keydown.enter)="onBarcodeScanned()"
      placeholder="Escanear Codigo"
      autofocus
    />
  
    <!-- Cart Table -->
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Producto</th>
          <th>Cantidad</th>
          <th>Precio</th>
          <th>Subtotal</th>
          <th>Eliminar</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of cart; let i = index">
          <td>{{ item.name }}</td>
          <td>
            <input type="number" class="form-control" [(ngModel)]="item.quantity" (change)="updateTotal()" />
          </td>
          <td>{{ item.price | currency:'COP':'symbol':'1.0-0':'es-CO' }}</td>
          <td>{{ item.price * item.quantity | currency:'COP':'symbol':'1.0-0':'es-CO' }}</td>
          <td><button class="btn btn-danger btn-sm" (click)="removeItem(i)">    X    </button></td>
        </tr>
      </tbody>
    </table>
  
    <!-- Total and Complete Sale -->
    <h4>Total: {{ total | currency:'COP':'symbol':'1.0-0':'es-CO' }}</h4>
    <button class="btn btn-success" (click)="completeSale()" [disabled]="cart.length === 0">Completar venta</button>
  </div>
  